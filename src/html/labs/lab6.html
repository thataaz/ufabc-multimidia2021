<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="description" content="Mobile Application HTML5 Template">

  <meta name="copyright" content="MACode ID, https://www.macodeid.com/">

  <title>PDS da Voz</title>

  <link rel="shortcut icon" href="../assets/ufabc.png" type="image/x-icon">

  <link rel="stylesheet" href="../../assets/css/maicons.css">

  <link rel="stylesheet" href="../../assets/vendor/animate/animate.css">

  <link rel="stylesheet" href="../../assets/vendor/owl-carousel/css/owl.carousel.min.css">

  <link rel="stylesheet" href="../../assets/css/bootstrap.css">

  <link rel="stylesheet" href="../../assets/css/mobster.css">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark navbar-floating">
  <div class="container">
    <a class="navbar-brand" href="../index.html">
      <img src="../../assets/ufabc.png" alt="" width="100px">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarToggler">
      <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Laboratórios</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item active" href="../index.html">Laboratório 1</a>
            <a class="dropdown-item" href="../labs/lab2.html">Laboratório 2</a>
            <a class="dropdown-item" href="../labs/lab3.html">Laboratório 3</a>
            <a class="dropdown-item" href="../labs/lab4.html">Laboratório 4</a>
            <a class="dropdown-item" href="../labs/lab5.html">Laboratório 5</a>
          </div>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="../error.html">Sobre nós</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../error.html">What's New</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../error.html">Contato</a>
        </li>
      </ul>
      <div class="ml-auto my-2 my-lg-0">
        <a href="https://moodle.ufabc.edu.br/course/view.php?id=2433" class="btn btn-primary rounded-pill">Acesse o Moodle da disciplina</a>
      </div>
    </div>
  </div>
</nav>

<main class="bg-light">

<div class="page-hero-section bg-image hero-mini" style="background-image: url(../../assets/img/hero_mini.svg);">
  <div class="hero-caption">
    <div class="container fg-white h-100">
      <div class="row justify-content-center align-items-center text-center h-100">
        <div class="col-lg-6">
          <h3 class="mb-4 fw-medium">Laboratório 6 – PDS da Voz</h3>
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb breadcrumb-dark justify-content-center bg-transparent">
              <li class="breadcrumb-item"><a href="../index.html">Página Inicial</a></li>
              <li class="breadcrumb-item active" aria-current="page">Laboratório 6</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="page-section pt-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card-page">
          <h5 class="fg-primary">Resumo</h5>
          <hr>
          <p><b>Descrição:</b></p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/resumo-lab6.mp3" type="audio/mp3">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p><b>Sobre a atividade:</b></p>
          <p>Esta prática sobre PDS da Voz tem como objetivos a gravação de áudios com digitos, numeros gerais, texto lido e poesia.</p>
          <p>Leitura de arquivos de áudio e janelamento, apresentação de cálculos das Energias de Tempo Curto e dos Espectogramas</p>
          <p>Determinação do Pitch, da frequência fundamental e das Formantes de algumas vogais. Nele também há a determinação dos fonemas surdos, sonoros, 
            consoantes gerais e plosivos</p>

        </div>
        <div class="card-page mt-3">
          <h5 class="fg-primary">1. Gravação de arquivos de áudio com dígitos, números gerais, texto lido e poesia</h5>
          <hr>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/parte1.mp3" type="audio/mp3">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Usando um programa de áudio cada integrante do grupo gravou os arquivos com as seguintes instruções. </p>
          <ul>
            <li> Dígitos (pronunciados separadamente) </li>
            <li> Números Gerais (p.ex. dia/mês/ano de nascimento, nº celular, RA)</li>
            <li> Texto lido </li>
            <li> Poesia declamada </li>
            </ul>
          <p class="text-center mb-3" style="color:deeppink"><b>Arquivos da Beatriz</b></p>
          <p>Dígitos pronunciados separadamente</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/digitos_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Números gerais</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/mais_numeros_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Texto Lido</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/texto_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Poesia declamada</p>
           <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/poesia_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>

          <p class="text-center mb-3" style="color:deeppink"><b>Arquivos da Thaís</b></p>
          <p>Dígitos pronunciados separadamente</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/digitos_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Números gerais</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/mais_numeros_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Texto Lido</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/texto_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Poesia declamada</p>
           <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/poesia_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>

          <p class="text-center mb-3" style="color:deeppink"><b>Arquivos da Vanessa</b></p>
          <p>Dígitos pronunciados separadamente</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/digitos_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Números gerais</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/mais_numeros_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Texto Lido</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/texto_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Poesia declamada</p>
           <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/poesia_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>

          <p class="text-center mb-3" style="color:deeppink"><b>Arquivos do William</b></p>
          <p>Dígitos pronunciados separadamente</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/digitos_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Números gerais</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/mais_numeros_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Texto Lido</p>
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/texto_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>
          <p>Poesia declamada</p>
           <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/poesia_Beatriz.wav" type="audio/wav">
            Your browser does not support the audio element.
            </audio>
          </div>

          <!-- Video -->

        
        </div>
        <div class="card-page mt-3">
            <h5 class="fg-primary">2. Leitura de Arquivos de Áudio e janelamento</h5>
            <hr>

            <div>
              <div class="p-3">
                <div class="">
                  <div class="ml-auto my-2 my-lg-0">
          <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/parte2-1.mp3" type="audio/mp3">
            Your browser does not support the audio element.
            </audio>
          </div>
                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">2.1 Definição dos Parâmetros da Análise</h5>
                    <p>Modificando o código abaixo para cada integrante do grupo, com seus respectivos arquivos:</p>
                    <p><pre>
grupo = ['Beatriz', 'Thaís', 'Vanessa', 'William']
integrante_grupo = grupo[0]

audio2 = f'/content/drive/My Drive/Colab Notebooks/digitos_{integrante_grupo}.wav'
audio3 = f'/content/drive/My Drive/Colab Notebooks/texto_{integrante_grupo}.wav'
audio4 = f'/content/drive/My Drive/Colab Notebooks/poesia_{integrante_grupo}.wav'

files = [audio2, audio3, audio4]
grupo = ['Beatriz', 'Thaís', 'Vanessa', 'William']
for audio in files:

  print(audio)
  v , sr = librosa.load(audio)
  print(type(v), type(sr))
  print(v.shape, sr)
  # Player será aberto!
  IPython.display.Audio(data=v, rate=sr)

  plt.figure()
  fig, ax = plt.subplots(figsize=(15, 5))
  librosa.display.waveplot(v, sr=sr)
  plt.title(f'Arquivo de áudio: {integrante_grupo}, {audio}')

  #Parâmetros para análise
  print('Frequência de Amostragem', sr)
  fa = sr

  Ts = 0.04   # Tempo de duração do segmento em segundos
  Nj = int(Ts*fa) # Número de pontos da Janela
  print('Tamanho do Segmento', Nj)


  Nseg = int(len(v)/Nj)
  Nover = int(Nj*0.5)
  print('Número de Segmentos no Arquivo', Nseg, '. Pontos Soprepostos', Nover)

  #Janela de Hamming
  hm = signal.get_window('hamming', Nj)

  #Contorno de energia
  Nover = int(Nj*0.5)
  Nseg = int(len(v)/Nj)
  E = []
  for l in range(1, Nseg):
      xjan = v[(l-1)*Nj+Nover:l*Nj+Nover]*hm
      x2 = list(np.array(xjan**2))
      aux = sum(x2)/Nj
      E.append(aux)
  E = 10*np.log10(E)
  Emin = np.min(E)  # calcula nível de ruído de fundo
  plt.figure
  fig, ax = plt.subplots(figsize=(15, 3))
  plt.plot(E - Emin)
  plt.title(f'Energia da Voz ({integrante_grupo}) arquivo:{audio}')
  plt.ylabel('Energia[db]'); plt.xlabel('Segmento')
</pre></p>
                    <p><b>Dígitos - Gráficos dos arquivos de áudio e Energia da voz</b></p>
                    <p>Beatriz</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>Thaís</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>Vanessa</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>William</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>--------------------</p>
                    <p><b>Texto Lido - Gráficos dos arquivos de áudio e Energia da voz</b></p>
                    <p>Beatriz</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/texto_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/textos2_Beatriz.png" width="100%">
                    </div>
                    <p>Thaís</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>Vanessa</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>William</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>--------------------</p>
                    <p><b>Poesia - Gráficos dos arquivos de áudio e Energia da voz</b></p>
                    <p>Beatriz</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/poesia_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/poesia2_Beatriz.png" width="100%">
                    </div>
                    <p>Thaís</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>Vanessa</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                    <p>William</p>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos_Beatriz.png" width="100%">
                    </div>
                    <div class="text-center mb-3">
                    <img src="../../assets/img/lab6/digitos2_Beatriz.png" width="100%">
                    </div>
                  
                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">2.2 Obtendo uma Janela de Hammin</h5>
                    <p>Colocar aqui</p>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="card-page mt-3">
            <h5 class="fg-primary">3. Energia de Tempo Curto</h5>
            <hr>
        
            <div>
              <div class="p-3">
                <div class="">
                  <div class="ml-auto my-2 my-lg-0">
                              <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/parte3.mp3" type="audio/mp3">
            Your browser does not support the audio element.
            </audio>
          </div>
            <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">3.1 Cálculo para arquivo de teste</h5>
                <p>Colocar aqui</p>
            
            <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">3.2 Leitura de arquivos gravados</h5>
                <p><b>Contorno de Energia para o arquivo de dígitos</b></p>

                <p><b>Contorno de Energia para o arquivo de voz falada</b></p>
                
                <p><b>Contorno de Energia para o arquivo de voz declamada (poema)</b></p>

          
            
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card-page mt-3">
            <h5 class="fg-primary">4. Espectogramas</h5>
            <hr>
            <audio controls style="max-width: 100%">
                <source src="../../assets/audios/lab6/parte_4.mp3" type="audio/mp3">
              Your browser does not support the audio element.
            </audio>
            <div>
              <div class="p-3">
                <div class="">
                  <div class="ml-auto my-2 my-lg-0">
                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">4.1 Visualização do Espectrograma para Arquivo de Teste</h5>

                  
                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">4.2 Agora com os seus arquivos</h5>
                    <p>O código para a geração dos espectrogramas, para cada integrante do grupo e seus respectivos arquivos, está abaixo (também presente no Notebook, no final da página)</p>
<pre>
for audio in files:
  v , sr = librosa.load(audio)

  plt.figure(figsize=(12, 8))
  D = librosa.amplitude_to_db(np.abs(librosa.stft(v)), ref=np.max)
  fig, ax = plt.subplots(figsize=(15, 10))
  librosa.display.specshow(D, x_axis='time',y_axis='linear')
  plt.colorbar(format='%+2.0f dB')
  plt.title(f'Potência e Espectrograma Linear na Frequência - {integrante_grupo} - {audio}')
</pre>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card-page mt-3">
            <h5 class="fg-primary">5. Determinação do Pitch e da F<sub>0</sub> </h5>
            <hr>
            <audio controls style="max-width: 100%">
                <source src="../../assets/audios/lab6/parte_5.mp3" type="audio/mp3">
              Your browser does not support the audio element.
            </audio>
            <div>
              <div class="p-3">
                <div class="">
                  <div class="ml-auto my-2 my-lg-0">
                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">5.1 Pitch do Arquivo Teste1</h5>

                  
                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">5.2 Pitch do Arquivo Teste2</h5>

                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">5.3.b Os quatro primeros picos no espectro são as formantes f<sub>1</sub> a f<sub>4</sub></h5>

                    <h5 style="color:deeppink; font-size:18px; margin-top: 30px;">5.4 Agora com seus arquivos</h5>                    <p>Determinação das formantes das vogais dos arquivos calculados nos espectrogramas</p>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card-page mt-3">
            <h5 class="fg-primary">6. Determinação de Consoantes e Plosivos</h5>
            <hr>
        
            <div>
              <div class="p-3">
                <div class="">
                  <div class="ml-auto my-2 my-lg-0">
                              <div class="caption">
            <audio controls style="max-width: 100%">
              <source src="../../assets/audios/lab6/parte3.mp3" type="audio/mp3">
            Your browser does not support the audio element.
            </audio>
          </div>
            <p>Foi selecionado alguns arquivos no espectrograma, para determinar algumas consoantes surdas 
                (p.ex. /s/ e /f/), surdas plosivas (p.ex. /p/, /t/ ou /k/) e 
                sonoras (p.ex. (/b/, /v/, /g/, /m/, /nh/ e /lh/). Destacando-se estas espectrograma.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>


          
        <div class="card-page mt-3">
          <h5 class="fg-primary">Link para os notebooks .ipynb</h5>
          <hr>

          
            <div class="p-3">
                <div class="ml-auto my-2 my-lg-0">
                  <a href="https://colab.research.google.com/drive/1ya9VrvhwdFRkL7GnIoteb6wQjs0RMfyC?authuser=1#scrollTo=PQyKDSOQzMdU" class="btn btn-primary rounded-pill">Acesse o Notebook</a>
                </div>
            </div>
          </div>
        </div>
        

      </div>
    </div>
  </div>
</div>

</main> <!-- .bg-light -->


<div class="page-footer-section bg-dark fg-white">
  <div class="container mb-5">
    <div class="row justify-content-center text-center wow fadeInUp">
      <div class="col-lg-8">
        <div class="text-center mb-3">
          <img src="https://media.giphy.com/media/KCdXOVBvvEqeWzFNf8/giphy.gif?cid=ecf05e470fqw75zdyxhgpfntl61roz5v54xmquhl3asd9jkv&rid=giphy.gif&ct=g" alt="" height="300px">
        </div>
        <h3 class="caption">
          Capturar uma imagem é libertar vidas, lembranças e saudades!
          <br>
            <i></b>Rosival Evangelista</b></i>          
        </h3>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-12 col-md-6 py-2">
        <img src="../assets/favicon-light.png" alt="" width="40">
        <!-- Please don't remove or modify the credits below -->
        <p class="d-inline-block ml-2">Copyright &copy; <a href="https://www.macodeid.com/" class="fg-white fw-medium">MACode ID</a>. All rights reserved</p>
      </div>
      <div class="col-12 col-md-6 py-2">
        <ul class="nav justify-content-end">
          <li class="nav-item"><a href="#" class="nav-link">Terms of Use</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Privacy Policy</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Cookie Policy</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<script src="../assets/js/jquery-3.5.1.min.js"></script>

<script src="../assets/js/bootstrap.bundle.min.js"></script>

<script src="../assets/vendor/owl-carousel/js/owl.carousel.min.js"></script>

<script src="../assets/vendor/wow/wow.min.js"></script>

<script src="../assets/js/mobster.js"></script>

</body>
</html>
